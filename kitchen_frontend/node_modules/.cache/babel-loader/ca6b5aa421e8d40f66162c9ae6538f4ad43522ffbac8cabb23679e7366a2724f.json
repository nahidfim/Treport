{"ast":null,"code":"import _regeneratorRuntime from\"/home/dev101/Downloads/Untitled/kitchen_backend/kitchen_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/dev101/Downloads/Untitled/kitchen_backend/kitchen_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/dev101/Downloads/Untitled/kitchen_backend/kitchen_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import ProductSpanningTable from\"../../components/ProductSpanningTable\";import{Box,InputLabel,FormControl,Select,MenuItem,Button,TextField}from'@mui/material';import styles from\"./ProductInfo.module.css\";import UploadAndDisplayImage from'../../components/UploadAndDisplayImage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductInfo=function ProductInfo(_ref){var setValue=_ref.setValue,setData=_ref.setData;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),tableData=_React$useState2[0],setTableData=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),orderState=_React$useState4[0],setOrderState=_React$useState4[1];var _React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),newData=_React$useState6[0],setNewData=_React$useState6[1];var _React$useState7=React.useState(0),_React$useState8=_slicedToArray(_React$useState7,2),productCategory=_React$useState8[0],setProductCategory=_React$useState8[1];var _React$useState9=React.useState([]),_React$useState10=_slicedToArray(_React$useState9,2),category=_React$useState10[0],setCategory=_React$useState10[1];var _React$useState11=React.useState(null),_React$useState12=_slicedToArray(_React$useState11,2),selectedImage=_React$useState12[0],setSelectedImage=_React$useState12[1];var handleChange=function handleChange(event){setOrderState(event.target.value);};var handleDeliveryConfirmationScreen=function handleDeliveryConfirmationScreen(){setValue(3);};var handleProductForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var data,body;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(\"we here\");data=new FormData(event.currentTarget);body={product_id:data.get('product_id'),product_name:data.get('product_name'),product_price:data.get('product_price'),product_category:productCategory,image:selectedImage};_context.next=6;return fetch('/add_product',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)}).then(function(response){return response.text();}).then(function(data1){console.log(newData);setNewData(newData+1);});case 6:case\"end\":return _context.stop();}},_callee);}));return function handleProductForm(_x){return _ref2.apply(this,arguments);};}();React.useEffect(function(){var ext=\"\";if(orderState==0){ext='else';}else{ext='all';}fetch('/get_category').then(function(response){return response.json();}).then(function(data){console.log(data);setCategory(data);return data;});fetch('get_product_data').then(function(response){return response.json();}).then(function(data){console.log(data);setTableData(data);});},[orderState,newData]);var handleCategoryChange=function handleCategoryChange(e){console.log(e);setProductCategory(e.target.value);return 0;};return/*#__PURE__*/_jsxs(Box,{className:styles.outermostBox,children:[/*#__PURE__*/_jsx(Box,{className:styles.pulldown,children:/*#__PURE__*/_jsxs(Box,{fullWidth:true,component:\"form\",onSubmit:handleProductForm,children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"product_id\",label:\"Product ID\",name:\"product_id\",type:\"number\",autoComplete:\"product_id\",autoFocus:true}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"product_name\",label:\"Product Name\",type:\"product_name\",id:\"product_name\",autoComplete:true}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"product_price\",label:\"Product Price\",type:\"product_price\",id:\"product_price\",autoComplete:true}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-label\",children:\"Product category\"}),/*#__PURE__*/_jsx(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:productCategory,label:\"Age\",onChange:handleCategoryChange,children:category.map(function(item){return/*#__PURE__*/_jsx(MenuItem,{value:item[0],children:item[0]});})})]}),/*#__PURE__*/_jsx(UploadAndDisplayImage,{selectedImage:selectedImage,setSelectedImage:setSelectedImage}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Add Product Data\"})]})}),/*#__PURE__*/_jsx(ProductSpanningTable,{tableData:tableData,setValue:setValue,setData:setData})]});};export default ProductInfo;","map":{"version":3,"names":["React","ProductSpanningTable","Box","InputLabel","FormControl","Select","MenuItem","Button","TextField","styles","UploadAndDisplayImage","jsx","_jsx","jsxs","_jsxs","ProductInfo","_ref","setValue","setData","_React$useState","useState","_React$useState2","_slicedToArray","tableData","setTableData","_React$useState3","_React$useState4","orderState","setOrderState","_React$useState5","_React$useState6","newData","setNewData","_React$useState7","_React$useState8","productCategory","setProductCategory","_React$useState9","_React$useState10","category","setCategory","_React$useState11","_React$useState12","selectedImage","setSelectedImage","handleChange","event","target","value","handleDeliveryConfirmationScreen","handleProductForm","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","body","wrap","_callee$","_context","prev","next","preventDefault","console","log","FormData","currentTarget","product_id","get","product_name","product_price","product_category","image","fetch","method","headers","JSON","stringify","then","response","text","data1","stop","_x","apply","arguments","useEffect","ext","json","handleCategoryChange","e","className","outermostBox","children","pulldown","fullWidth","component","onSubmit","margin","required","id","label","name","type","autoComplete","autoFocus","labelId","onChange","map","item","variant","sx","mt","mb"],"sources":["/home/dev101/Downloads/Untitled/kitchen_backend/kitchen_frontend/src/screens/ProductInfo/ProductInfo.js"],"sourcesContent":["import React from 'react'\nimport ProductSpanningTable from \"../../components/ProductSpanningTable\";\nimport { Box, InputLabel,FormControl,Select,MenuItem,Button, TextField} from '@mui/material';\nimport styles from \"./ProductInfo.module.css\";\nimport UploadAndDisplayImage from '../../components/UploadAndDisplayImage';\n\n\nconst ProductInfo = ({setValue, setData}) => {\n  const [tableData, setTableData] = React.useState([])\n  const [orderState, setOrderState] = React.useState(0)\n  const [newData, setNewData] = React.useState(0)\n  const [productCategory, setProductCategory] = React.useState(0)\n  const [category, setCategory] = React.useState([])\n  const [selectedImage, setSelectedImage] = React.useState(null);\n\n  const handleChange = (event) => {\n    setOrderState(event.target.value);\n  };\n\n  const handleDeliveryConfirmationScreen = () => {\n    setValue(3);\n  };\n\n  const handleProductForm = async (event) => {\n    event.preventDefault();\n    console.log(\"we here\");\n    const data = new FormData(event.currentTarget);\n    var body = {\n        product_id: data.get('product_id'),\n      product_name: data.get('product_name'),\n      product_price: data.get('product_price'),\n      product_category: productCategory,\n      image: selectedImage\n    }\n    await fetch('/add_product', {method: 'POST',headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(body)}).then(response =>\n      response.text())\n    .then(data1 => {\n      console.log(newData);\n      setNewData(newData+1);\n    });\n  };\n\n  React.useEffect(() => {\n    var ext = \"\"\n    if(orderState==0){\n      ext = 'else'\n    }\n    else{\n      ext = 'all'\n    }\n    fetch('/get_category').then((response) => {return response.json();})\n    .then((data) => {\n      console.log(data);\n      setCategory(data)\n      return data;\n    });\n    fetch('get_product_data').then((response) => { \n      return response.json(); \n    }).then((data) => {\n      console.log(data);\n      setTableData(data);\n    });\n\n  }, [orderState, newData]);\n\n  const handleCategoryChange = (e) => {\n   console.log(e)\n   setProductCategory(e.target.value)\n    return 0\n  }\n\n  return (\n    <Box className={styles.outermostBox}>\n    <Box className={styles.pulldown}>\n    <Box fullWidth component=\"form\" onSubmit={handleProductForm}>\n    <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"product_id\"\n              label=\"Product ID\"\n              name=\"product_id\"\n              type=\"number\"\n              autoComplete=\"product_id\"\n              autoFocus\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"product_name\"\n              label=\"Product Name\"\n              type=\"product_name\"\n              id=\"product_name\"\n              autoComplete\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"product_price\"\n              label=\"Product Price\"\n              type=\"product_price\"\n              id=\"product_price\"\n              autoComplete\n            />\n            <FormControl fullWidth>\n              <InputLabel id=\"demo-simple-select-label\">Product category</InputLabel>\n              <Select\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                value={productCategory}\n                label=\"Age\"\n                onChange={handleCategoryChange}\n              >{category.map((item)=> {\n                return <MenuItem value={item[0]}>{item[0]}</MenuItem>\n              })}\n              </Select>\n            </FormControl>\n            <UploadAndDisplayImage selectedImage={selectedImage} setSelectedImage={setSelectedImage}/>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              Add Product Data\n            </Button>\n  </Box>\n    </Box>\n    <ProductSpanningTable tableData={tableData} setValue={setValue} setData={setData} />\n </Box>\n     \n  )\n}\n\nexport default ProductInfo;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}