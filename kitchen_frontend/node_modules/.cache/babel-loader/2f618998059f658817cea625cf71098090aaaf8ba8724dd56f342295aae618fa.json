{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nahid/Desktop/untitled folder/KitchenView/kitchen_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/nahid/Desktop/untitled folder/KitchenView/kitchen_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/nahid/Desktop/untitled folder/KitchenView/kitchen_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import CategoryTable from'../../components/CategoryMaster';import{Box,InputLabel,FormControl,Select,MenuItem,Button,TextField,ButtonGroup}from'@mui/material';import styles from\"./CategoryMaster.module.css\";import UploadAndDisplayImage from'../../components/UploadAndDisplayImage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CategoryMaster=function CategoryMaster(_ref){var setValue=_ref.setValue,setData=_ref.setData;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),tableData=_React$useState2[0],setTableData=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),orderState=_React$useState4[0],setOrderState=_React$useState4[1];var _React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),newData=_React$useState6[0],setNewData=_React$useState6[1];var _React$useState7=React.useState(0),_React$useState8=_slicedToArray(_React$useState7,2),productCategory=_React$useState8[0],setProductCategory=_React$useState8[1];var _React$useState9=React.useState([]),_React$useState10=_slicedToArray(_React$useState9,2),category=_React$useState10[0],setCategory=_React$useState10[1];var _React$useState11=React.useState(null),_React$useState12=_slicedToArray(_React$useState11,2),selectedImage=_React$useState12[0],setSelectedImage=_React$useState12[1];var _React$useState13=React.useState(1),_React$useState14=_slicedToArray(_React$useState13,2),page=_React$useState14[0],setPage=_React$useState14[1];var handleChange=function handleChange(event){setOrderState(event.target.value);};var handleDeliveryConfirmationScreen=function handleDeliveryConfirmationScreen(){setValue(3);};var handleProductForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var data,form;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(selectedImage);data=new FormData(event.currentTarget);form=new FormData();form.append(\"product_category_no\",data.get('product_category_no'));form.append(\"product_category\",data.get('product_category'));form.append(\"product_category_name_en\",data.get('product_category_name_en'));// form.append(\"product_category\", productCategory);\n// form.append(\"image\", selectedImage);\n_context.next=9;return fetch('/add_category',{method:'POST',body:form}).then(function(response){return response.text();}).then(function(data1){console.log(newData);setNewData(newData+1);});case 9:case\"end\":return _context.stop();}},_callee);}));return function handleProductForm(_x){return _ref2.apply(this,arguments);};}();React.useEffect(function(){var ext=\"\";if(orderState==0){ext='else';}else{ext='all';}fetch('/get_category').then(function(response){return response.json();}).then(function(data){console.log(data);setCategory(data);return data;});fetch('get_product_data').then(function(response){return response.json();}).then(function(data){console.log(data);setTableData(data);});},[orderState,newData]);var handleCategoryChange=function handleCategoryChange(e){console.log(e);setProductCategory(e.target.value);return 0;};return/*#__PURE__*/_jsxs(Box,{className:styles.outermostBox,children:[/*#__PURE__*/_jsx(Box,{className:styles.pulldown,children:/*#__PURE__*/_jsxs(Box,{fullWidth:true,component:\"form\",onSubmit:handleProductForm,children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"product_id\",label:\"Product ID\",name:\"product_id\",type:\"number\",autoComplete:\"product_id\",autoFocus:true}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"product_name\",label:\"Product Name\",type:\"product_name\",id:\"product_name\",autoComplete:true}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"product_price\",label:\"Product Price\",type:\"product_price\",id:\"product_price\",autoComplete:true}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-label\",children:\"Product category\"}),/*#__PURE__*/_jsx(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:productCategory,label:\"Age\",onChange:handleCategoryChange,children:category.map(function(item){return/*#__PURE__*/_jsx(MenuItem,{value:item[0],children:item[0]});})})]}),/*#__PURE__*/_jsx(UploadAndDisplayImage,{selectedImage:selectedImage,setSelectedImage:setSelectedImage}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Add Product Data\"})]})}),/*#__PURE__*/_jsx(CategoryTable,{tableData:tableData,setValue:setValue,setData:setData})]});};export default CategoryMaster;","map":{"version":3,"names":["React","CategoryTable","Box","InputLabel","FormControl","Select","MenuItem","Button","TextField","ButtonGroup","styles","UploadAndDisplayImage","jsx","_jsx","jsxs","_jsxs","CategoryMaster","_ref","setValue","setData","_React$useState","useState","_React$useState2","_slicedToArray","tableData","setTableData","_React$useState3","_React$useState4","orderState","setOrderState","_React$useState5","_React$useState6","newData","setNewData","_React$useState7","_React$useState8","productCategory","setProductCategory","_React$useState9","_React$useState10","category","setCategory","_React$useState11","_React$useState12","selectedImage","setSelectedImage","_React$useState13","_React$useState14","page","setPage","handleChange","event","target","value","handleDeliveryConfirmationScreen","handleProductForm","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","form","wrap","_callee$","_context","prev","next","preventDefault","console","log","FormData","currentTarget","append","get","fetch","method","body","then","response","text","data1","stop","_x","apply","arguments","useEffect","ext","json","handleCategoryChange","e","className","outermostBox","children","pulldown","fullWidth","component","onSubmit","margin","required","id","label","name","type","autoComplete","autoFocus","labelId","onChange","map","item","variant","sx","mt","mb"],"sources":["/Users/nahid/Desktop/untitled folder/KitchenView/kitchen_frontend/src/screens/CategoryMaster/CategoryTable.js"],"sourcesContent":["import React from 'react'\nimport CategoryTable from '../../components/CategoryMaster';\nimport { Box, InputLabel,FormControl,Select,MenuItem,Button, TextField,ButtonGroup} from '@mui/material';\nimport styles from \"./CategoryMaster.module.css\";\nimport UploadAndDisplayImage from '../../components/UploadAndDisplayImage';\n\n\nconst CategoryMaster = ({setValue, setData}) => {\n  const [tableData, setTableData] = React.useState([])\n  const [orderState, setOrderState] = React.useState(0)\n  const [newData, setNewData] = React.useState(0)\n  const [productCategory, setProductCategory] = React.useState(0)\n  const [category, setCategory] = React.useState([])\n  const [selectedImage, setSelectedImage] = React.useState(null);\n  const [page, setPage] = React.useState(1)\n  const handleChange = (event) => {\n    setOrderState(event.target.value);\n  };\n\n  const handleDeliveryConfirmationScreen = () => {\n    setValue(3);\n  };\n\n  const handleProductForm = async (event) => {\n    event.preventDefault();\n    console.log(selectedImage);\n    const data = new FormData(event.currentTarget);\n  \n\n    const form = new FormData();\n    form.append(\"product_category_no\",  data.get('product_category_no'));\n    form.append(\"product_category\", data.get('product_category'));\n    form.append(\"product_category_name_en\", data.get('product_category_name_en'));\n    // form.append(\"product_category\", productCategory);\n    // form.append(\"image\", selectedImage);\n    await fetch('/add_category', {method: 'POST', body: form}).then(response =>\n      response.text())\n    .then(data1 => {\n      console.log(newData);\n      setNewData(newData+1);\n    });\n  };\n\n  React.useEffect(() => {\n    var ext = \"\"\n    if(orderState==0){\n      ext = 'else'\n    }\n    else{\n      ext = 'all'\n    }\n    fetch('/get_category').then((response) => {return response.json();})\n    .then((data) => {\n      console.log(data);\n      setCategory(data)\n      return data;\n    });\n    fetch('get_product_data').then((response) => { \n      return response.json(); \n    }).then((data) => {\n      console.log(data);\n      setTableData(data);\n    });\n\n  }, [orderState, newData]);\n\n  const handleCategoryChange = (e) => {\n   console.log(e)\n   setProductCategory(e.target.value)\n    return 0\n  }\n\n  return (\n    <Box className={styles.outermostBox}>\n    <Box className={styles.pulldown}>\n    <Box fullWidth component=\"form\" onSubmit={handleProductForm}>\n    <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"product_id\"\n              label=\"Product ID\"\n              name=\"product_id\"\n              type=\"number\"\n              autoComplete=\"product_id\"\n              autoFocus\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"product_name\"\n              label=\"Product Name\"\n              type=\"product_name\"\n              id=\"product_name\"\n              autoComplete\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"product_price\"\n              label=\"Product Price\"\n              type=\"product_price\"\n              id=\"product_price\"\n              autoComplete\n            />\n            <FormControl fullWidth>\n              <InputLabel id=\"demo-simple-select-label\">Product category</InputLabel>\n              <Select\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                value={productCategory}\n                label=\"Age\"\n                onChange={handleCategoryChange}\n              >{category.map((item)=> {\n                return <MenuItem value={item[0]}>{item[0]}</MenuItem>\n              })}\n              </Select>\n            </FormControl>\n            <UploadAndDisplayImage selectedImage={selectedImage} setSelectedImage={setSelectedImage}/>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              Add Product Data\n            </Button>\n  </Box>\n    </Box>\n    <CategoryTable tableData={tableData} setValue={setValue} setData={setData} />\n </Box>\n     \n  )\n}\n\nexport default CategoryMaster;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}