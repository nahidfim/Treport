{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nahid/Desktop/com/KitchenView/kitchen_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/nahid/Desktop/com/KitchenView/kitchen_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/nahid/Desktop/com/KitchenView/kitchen_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import ProductSpanningTable from\"../../components/ProductSpanningTable\";import{Box,InputLabel,FormControl,Select,MenuItem,Button,TextField}from'@mui/material';import styles from\"./ProductInfo.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductInfo=function ProductInfo(_ref){var setValue=_ref.setValue,setData=_ref.setData;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),tableData=_React$useState2[0],setTableData=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),orderState=_React$useState4[0],setOrderState=_React$useState4[1];var _React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),newData=_React$useState6[0],setNewData=_React$useState6[1];var handleChange=function handleChange(event){setOrderState(event.target.value);};var handleDeliveryConfirmationScreen=function handleDeliveryConfirmationScreen(){setValue(3);};var handleProductForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var data,body;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(\"we here\");data=new FormData(event.currentTarget);body={product_id:data.get('product_id'),product_name:data.get('product_name'),product_price:data.get('product_price')};_context.next=6;return fetch('/add_product',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)}).then(function(response){return response.text();}).then(function(data1){console.log(newData);setNewData(newData+1);});case 6:case\"end\":return _context.stop();}},_callee);}));return function handleProductForm(_x){return _ref2.apply(this,arguments);};}();React.useEffect(function(){fetch('get_product_data').then(function(response){return response.json();}).then(function(data){console.log(data);setTableData(data);});},[orderState,newData]);return/*#__PURE__*/_jsxs(Box,{className:styles.outermostBox,children:[/*#__PURE__*/_jsx(Box,{className:styles.pulldown,children:/*#__PURE__*/_jsxs(Box,{fullWidth:true,component:\"form\",onSubmit:handleProductForm,children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"product_id\",label:\"Product ID\",name:\"product_id\",autoComplete:\"product_id\",autoFocus:true}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"product_name\",label:\"Product Name\",type:\"product_name\",id:\"product_name\",autoComplete:true}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"product_price\",label:\"Product Price\",type:\"product_price\",id:\"product_price\",autoComplete:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Add Product Data\"})]})}),/*#__PURE__*/_jsx(ProductSpanningTable,{tableData:tableData,setValue:setValue,setData:setData})]});};export default ProductInfo;","map":{"version":3,"names":["React","ProductSpanningTable","Box","InputLabel","FormControl","Select","MenuItem","Button","TextField","styles","jsx","_jsx","jsxs","_jsxs","ProductInfo","_ref","setValue","setData","_React$useState","useState","_React$useState2","_slicedToArray","tableData","setTableData","_React$useState3","_React$useState4","orderState","setOrderState","_React$useState5","_React$useState6","newData","setNewData","handleChange","event","target","value","handleDeliveryConfirmationScreen","handleProductForm","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","body","wrap","_callee$","_context","prev","next","preventDefault","console","log","FormData","currentTarget","product_id","get","product_name","product_price","fetch","method","headers","JSON","stringify","then","response","text","data1","stop","_x","apply","arguments","useEffect","json","className","outermostBox","children","pulldown","fullWidth","component","onSubmit","margin","required","id","label","name","autoComplete","autoFocus","type","variant","sx","mt","mb"],"sources":["/Users/nahid/Desktop/com/KitchenView/kitchen_frontend/src/screens/ProductInfo/ProductInfo.js"],"sourcesContent":["import React from 'react'\nimport ProductSpanningTable from \"../../components/ProductSpanningTable\";\nimport { Box, InputLabel,FormControl,Select,MenuItem,Button, TextField} from '@mui/material';\nimport styles from \"./ProductInfo.module.css\";\n\n\nconst ProductInfo = ({setValue, setData}) => {\n  const [tableData, setTableData] = React.useState([])\n  const [orderState, setOrderState] = React.useState(0)\n  const [newData, setNewData] = React.useState(0)\n  const handleChange = (event) => {\n    setOrderState(event.target.value);\n  };\n  const handleDeliveryConfirmationScreen = () => {\n    setValue(3);\n  };\n  const handleProductForm = async (event) => {\n    event.preventDefault();\n    console.log(\"we here\");\n    const data = new FormData(event.currentTarget);\n    var body = {\n      product_id: data.get('product_id'),\n      product_name: data.get('product_name'),\n      product_price: data.get('product_price')\n    }\n    await fetch('/add_product', {method: 'POST',headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(body)}).then(response =>\n      response.text())\n    .then(data1 => {\n      console.log(newData);\n      setNewData(newData+1);\n    });\n  };\n  React.useEffect(() => {\n    fetch('get_product_data').then((response) => { \n      return response.json(); \n    }).then((data) => {\n      console.log(data);\n      setTableData(data);\n    });\n\n  }, [orderState, newData]);\n  return (\n    <Box className={styles.outermostBox}>\n    <Box className={styles.pulldown}>\n    <Box fullWidth component=\"form\" onSubmit={handleProductForm}>\n    <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"product_id\"\n              label=\"Product ID\"\n              name=\"product_id\"\n              autoComplete=\"product_id\"\n              autoFocus\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"product_name\"\n              label=\"Product Name\"\n              type=\"product_name\"\n              id=\"product_name\"\n              autoComplete\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"product_price\"\n              label=\"Product Price\"\n              type=\"product_price\"\n              id=\"product_price\"\n              autoComplete\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              Add Product Data\n            </Button>\n  </Box>\n    </Box>\n    <ProductSpanningTable tableData={tableData} setValue={setValue} setData={setData} />\n </Box>\n     \n  )\n}\n\nexport default ProductInfo;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}